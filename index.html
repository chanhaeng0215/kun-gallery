<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>사진 갤러리</title>
  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", sans-serif;
      background: #111;
      color: #f5f5f5;
    }

    h1 {
      text-align: center;
      padding: 24px 16px 8px;
      margin: 0;
      font-size: 1.8rem;
    }

    .subtitle {
      text-align: center;
      margin-bottom: 20px;
      color: #aaa;
      font-size: 0.9rem;
    }

    /* Masonry Gallery */
    .gallery {
      column-count: 4;
      column-gap: 16px;
      padding: 0 16px 32px;
      max-width: 1200px;
      margin: 0 auto;
    }

    @media (max-width: 1024px) { .gallery { column-count: 3; } }
    @media (max-width: 768px)  { .gallery { column-count: 2; } }
    @media (max-width: 480px)  { .gallery { column-count: 1; } }

    .gallery-item {
      margin-bottom: 16px;
      break-inside: avoid;
      -webkit-column-break-inside: avoid;
      position: relative;
      cursor: zoom-in;
    }

    .gallery-item img {
      width: 100%;
      display: block;
      border-radius: 8px;
    }

    .gallery-item:hover img {
      transform: translateY(-2px);
      transition: transform 0.15s ease-out;
    }

    .gallery-caption {
      font-size: 0.8rem;
      color: #ccc;
      margin-top: 4px;
    }

    /* Lightbox */
    .lightbox {
      display: none;
      position: fixed;
      z-index: 9999;
      inset: 0;
      background: rgba(0, 0, 0, 0.92);
      backdrop-filter: blur(4px);
      align-items: center;
      justify-content: center;
      padding: 16px;
    }

    .lightbox-inner {
      position: relative;
      max-width: 90vw;
      max-height: 90vh;
      text-align: center;
    }

    .lightbox-img {
      max-width: 100%;
      max-height: 80vh;
      border-radius: 8px;
      box-shadow: 0 0 24px rgba(0, 0, 0, 0.6);
    }

    .lightbox-caption {
      margin-top: 12px;
      font-size: 0.9rem;
      color: #ddd;
    }

    .lightbox-close {
      position: fixed;
      top: 16px;
      right: 24px;
      font-size: 32px;
      cursor: pointer;
      color: #f5f5f5;
    }

    .lightbox-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 32px;
      background: rgba(0,0,0,0.4);
      border: none;
      color: #f5f5f5;
      cursor: pointer;
      padding: 8px 14px;
      border-radius: 999px;
      user-select: none;
    }

    .lightbox-prev { left: -52px; }
    .lightbox-next { right: -52px; }

    @media (max-width: 768px) {
      .lightbox-prev { left: 4px; }
      .lightbox-next { right: 4px; }
    }
  </style>
</head>
<body>
  <h1>Kun 사진 갤러리</h1>
  <div class="subtitle">Masonry 레이아웃 + 클릭 시 확대(라이트박스)</div>

  <!-- 갤러리: 파일 이름을 교수님이 올리신 그대로 사용 -->
  <div class="gallery" id="gallery">
    <div class="gallery-item">
      <img src="475f910a-0585-4aa0-8746-697d72f29fdc.JPEG"
           alt="시애틀 버스 앞에서 스케이트보드와 함께">
      <div class="gallery-caption">시애틀 버스 앞</div>
    </div>

    <div class="gallery-item">
      <img src="aafa9f05-fc9c-4f64-88c1-6d7e0c8273c9.jpg"
           alt="식당에서 옆모습">
      <div class="gallery-caption">식당에서</div>
    </div>

    <div class="gallery-item">
      <img src="20130707_181126.jpg"
           alt="운동장에서 모래놀이">
      <div class="gallery-caption">운동장 모래놀이</div>
    </div>

    <div class="gallery-item">
      <img src="20130715_185120.jpg"
           alt="운동장에서 자전거 타기">
      <div class="gallery-caption">자전거 연습</div>
    </div>

    <div class="gallery-item">
      <img src="20130804_115528.jpg"
           alt="강남역 안내판 앞에서">
      <div class="gallery-caption">강남역 앞</div>
    </div>

    <div class="gallery-item">
      <img src="20180703_175138.jpg"
           alt="방파제에서 낚시 의자에 앉아서">
      <div class="gallery-caption">방파제 낚시 1</div>
    </div>

    <div class="gallery-item">
      <img src="20180703_184646.jpg"
           alt="방파제에서 낚싯대를 들고 있는 모습">
      <div class="gallery-caption">방파제 낚시 2</div>
    </div>

    <div class="gallery-item">
      <img src="20180703_184700.jpg"
           alt="잡은 물고기를 들고 있는 모습">
      <div class="gallery-caption">잡은 물고기</div>
    </div>

    <div class="gallery-item">
      <img src="Castle Printed by Kun.jpg"
           alt="판화 작품">
      <div class="gallery-caption">Kun의 판화</div>
    </div>

    <div class="gallery-item">
      <img src="IMG-7667.jpg"
           alt="현관에서 포즈를 취한 모습">
      <div class="gallery-caption">현관 포즈</div>
    </div>

    <div class="gallery-item">
      <img src="KakaoTalk_20250701_232038331_01.jpg"
           alt="도시 거리에서 주황색 티셔츠">
      <div class="gallery-caption">도시 거리 산책</div>
    </div>

    <div class="gallery-item">
      <img src="KakaoTalk_20240615_222831256.jpg"
           alt="야외 테라스에서 식사">
      <div class="gallery-caption">야외 테라스 식사</div>
    </div>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox">
    <div class="lightbox-close" id="lightbox-close">&times;</div>
    <div class="lightbox-inner">
      <button class="lightbox-nav lightbox-prev" id="lightbox-prev">&#10094;</button>
      <img class="lightbox-img" id="lightbox-img" src="" alt="">
      <button class="lightbox-nav lightbox-next" id="lightbox-next">&#10095;</button>
      <div class="lightbox-caption" id="lightbox-caption"></div>
    </div>
  </div>

  <script>
    const galleryItems = Array.from(document.querySelectorAll(".gallery-item img"));
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img");
    const lightboxCaption = document.getElementById("lightbox-caption");
    const btnClose = document.getElementById("lightbox-close");
    const btnPrev = document.getElementById("lightbox-prev");
    const btnNext = document.getElementById("lightbox-next");

    let currentIndex = 0;

    function openLightbox(index) {
      currentIndex = index;
      const img = galleryItems[currentIndex];
      lightboxImg.src = img.src;
      lightboxImg.alt = img.alt || "";
      lightboxCaption.textContent = img.alt || "";
      lightbox.style.display = "flex";
    }

    function closeLightbox() {
      lightbox.style.display = "none";
    }

    function showNext(delta) {
      currentIndex = (currentIndex + delta + galleryItems.length) % galleryItems.length;
      const img = galleryItems[currentIndex];
      lightboxImg.src = img.src;
      lightboxImg.alt = img.alt || "";
      lightboxCaption.textContent = img.alt || "";
    }

    // 이미지 클릭 → 라이트박스 열기
    galleryItems.forEach((img, index) => {
      img.addEventListener("click", () => openLightbox(index));
    });

    // 닫기
    btnClose.addEventListener("click", closeLightbox);

    // 바깥 클릭 시 닫기
    lightbox.addEventListener("click", (e) => {
      if (e.target === lightbox) closeLightbox();
    });

    // 이전/다음
    btnPrev.addEventListener("click", (e) => {
      e.stopPropagation();
      showNext(-1);
    });

    btnNext.addEventListener("click", (e) => {
      e.stopPropagation();
      showNext(1);
    });

    // 키보드 조작
    document.addEventListener("keydown", (e) => {
      if (lightbox.style.display === "flex") {
        if (e.key === "Escape") closeLightbox();
        if (e.key === "ArrowRight") showNext(1);
        if (e.key === "ArrowLeft") showNext(-1);
      }
    });
  </script>
</body>
</html>
